===================
Convert to Solr XML
===================



We need to set the site since we're a functional test:

>>> import zope.app.component.hooks
>>> old_site = zope.app.component.hooks.getSite()
>>> zope.app.component.hooks.setSite(getRootFolder())


Get article for adapter tests:

>>> import zeit.cms.interfaces
>>> article = zeit.cms.interfaces.ICMSContent(
...     'http://xml.zeit.de/online/2007/01/Somalia')


Build a converter:

>>> import zeit.solr.interfaces
>>> converter = zeit.solr.interfaces.ISolrConverter(article)
>>> converter
<zeit.solr.converter.SolrConverter object at 0xc5f02ac>

>>> converter.prepare_dav_props()


Clean up:

>>> zope.app.component.hooks.setSite(old_site)

